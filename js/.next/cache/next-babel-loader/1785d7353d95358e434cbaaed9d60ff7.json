{"ast":null,"code":"import { ApolloClient } from 'apollo-client';\nimport { HttpLink } from 'apollo-link-http';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport getConfig from 'next/config';\nconst {\n  serverRuntimeConfig,\n  _\n} = getConfig();\nconst client = new ApolloClient({\n  ssrMode: true,\n  link: new HttpLink({\n    uri: 'http://localhost:8080/v1/graphql',\n    headers: {\n      'x-hasura-admin-secret': serverRuntimeConfig.hasuraSecret\n    },\n    credentials: 'same-origin',\n    fetch\n  }),\n  cache: new InMemoryCache().restore()\n});\nexport default client;","map":{"version":3,"sources":["/Users/markd/projects/js/projector/js/lib/apollo-client.js"],"names":["ApolloClient","HttpLink","InMemoryCache","getConfig","serverRuntimeConfig","_","client","ssrMode","link","uri","headers","hasuraSecret","credentials","fetch","cache","restore"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,eAA3B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,aAAR,QAA4B,uBAA5B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAM;AAAEC,EAAAA,mBAAF;AAAuBC,EAAAA;AAAvB,IAA6BF,SAAS,EAA5C;AAGA,MAAMG,MAAM,GAAG,IAAIN,YAAJ,CAAiB;AAC5BO,EAAAA,OAAO,MADqB;AAE5BC,EAAAA,IAAI,EAAE,IAAIP,QAAJ,CAAa;AACfQ,IAAAA,GAAG,EAAE,kCADU;AAEfC,IAAAA,OAAO,EAAE;AACL,+BAAyBN,mBAAmB,CAACO;AADxC,KAFM;AAKfC,IAAAA,WAAW,EAAE,aALE;AAMfC,IAAAA;AANe,GAAb,CAFsB;AAU5BC,EAAAA,KAAK,EAAE,IAAIZ,aAAJ,GAAoBa,OAApB;AAVqB,CAAjB,CAAf;AAaA,eAAeT,MAAf","sourcesContent":["import {ApolloClient} from 'apollo-client';\nimport {HttpLink} from 'apollo-link-http';\nimport {InMemoryCache} from 'apollo-cache-inmemory';\nimport getConfig from 'next/config'\n\nconst { serverRuntimeConfig, _ } = getConfig()\n\n\nconst client = new ApolloClient({\n    ssrMode: typeof window === 'undefined',\n    link: new HttpLink({\n        uri: 'http://localhost:8080/v1/graphql',\n        headers: {\n            'x-hasura-admin-secret': serverRuntimeConfig.hasuraSecret\n         },\n        credentials: 'same-origin',\n        fetch\n    }),\n    cache: new InMemoryCache().restore()\n});\n\nexport default client;"]},"metadata":{},"sourceType":"module"}