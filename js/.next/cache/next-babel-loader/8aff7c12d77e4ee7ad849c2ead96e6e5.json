{"ast":null,"code":"import { ApolloClient } from \"apollo-client\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport getConfig from \"next/config\";\nconst {\n  serverRuntimeConfig,\n  _\n} = getConfig();\nconst client = new ApolloClient({\n  ssrMode: true,\n  link: new HttpLink({\n    uri: \"http://localhost:8080/v1/graphql\",\n    headers: {\n      \"x-hasura-admin-secret\": serverRuntimeConfig.hasuraSecret\n    },\n    credentials: \"same-origin\",\n    fetch\n  }),\n  cache: new InMemoryCache().restore()\n});\nexport default client;","map":{"version":3,"sources":["/Users/markd/projects/js/projector/js/lib/apollo-client.js"],"names":["ApolloClient","HttpLink","InMemoryCache","getConfig","serverRuntimeConfig","_","client","ssrMode","link","uri","headers","hasuraSecret","credentials","fetch","cache","restore"],"mappings":"AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAM;AAAEC,EAAAA,mBAAF;AAAuBC,EAAAA;AAAvB,IAA6BF,SAAS,EAA5C;AAEA,MAAMG,MAAM,GAAG,IAAIN,YAAJ,CAAiB;AAC9BO,EAAAA,OAAO,MADuB;AAE9BC,EAAAA,IAAI,EAAE,IAAIP,QAAJ,CAAa;AACjBQ,IAAAA,GAAG,EAAE,kCADY;AAEjBC,IAAAA,OAAO,EAAE;AACP,+BAAyBN,mBAAmB,CAACO;AADtC,KAFQ;AAKjBC,IAAAA,WAAW,EAAE,aALI;AAMjBC,IAAAA;AANiB,GAAb,CAFwB;AAU9BC,EAAAA,KAAK,EAAE,IAAIZ,aAAJ,GAAoBa,OAApB;AAVuB,CAAjB,CAAf;AAaA,eAAeT,MAAf","sourcesContent":["import { ApolloClient } from \"apollo-client\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport getConfig from \"next/config\";\n\nconst { serverRuntimeConfig, _ } = getConfig();\n\nconst client = new ApolloClient({\n  ssrMode: typeof window === \"undefined\",\n  link: new HttpLink({\n    uri: \"http://localhost:8080/v1/graphql\",\n    headers: {\n      \"x-hasura-admin-secret\": serverRuntimeConfig.hasuraSecret,\n    },\n    credentials: \"same-origin\",\n    fetch,\n  }),\n  cache: new InMemoryCache().restore(),\n});\n\nexport default client;\n"]},"metadata":{},"sourceType":"module"}